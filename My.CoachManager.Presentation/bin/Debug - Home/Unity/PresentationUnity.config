<?xml version="1.0"?>
<configuration>
  <configSections>
    <section name="unity" type="Microsoft.Practices.Unity.Configuration.UnityConfigurationSection, Microsoft.Practices.Unity.Configuration" />
  </configSections>

  <unity xmlns="http://schemas.microsoft.com/practices/2010/unity">
    <sectionExtension type="Microsoft.Practices.Unity.InterceptionExtension.Configuration.InterceptionConfigurationExtension, Microsoft.Practices.Unity.Interception.Configuration" />

    <containers>

      <container name="RootContainer">
        <extension type="Interception" />

        <!--<register type="Caliburn.Micro.IEventAggregator, Caliburn.Micro"
                  mapTo="Caliburn.Micro.EventAggregator, Caliburn.Micro">
          <lifetime type="singleton" />
        </register>-->

        <register type="Caliburn.Micro.IWindowManager, Caliburn.Micro.Platform"
                  mapTo="Caliburn.Micro.WindowManager, Caliburn.Micro.Platform">
          <lifetime type="singleton" />
        </register>

        <register type="My.CoachManager.Presentation.Core.Services.Interfaces.IAuthenticationService, My.CoachManager.Presentation.Core"
                  mapTo="My.CoachManager.Presentation.Services.AuthenticationService, My.CoachManager.Presentation">
          <lifetime type="singleton" />
        </register>

        <register type="My.CoachManager.Presentation.Core.Factories.Interfaces.IMenuFactory`1, My.CoachManager.Presentation.Core"
                  mapTo="My.CoachManager.Presentation.Factories.MenuFactory, My.CoachManager.Presentation">
          <lifetime type="singleton" />
        </register>

        <register type="My.CoachManager.Presentation.Core.Services.Interfaces.IMenuNavigationService, My.CoachManager.Presentation.Core"
                  mapTo="My.CoachManager.Presentation.Core.Services.MenuNavigationService, My.CoachManager.Presentation.Core">
          <lifetime type="singleton" />
        </register>

        <register type="My.CoachManager.Presentation.Core.Services.Interfaces.IDialogService`1, My.CoachManager.Presentation.Core"
                  mapTo="My.CoachManager.Presentation.Services.MetroDialogService, My.CoachManager.Presentation">
          <lifetime type="singleton" />
        </register>

        <register type="My.CoachManager.Presentation.Core.Services.Interfaces.IAppearanceService, My.CoachManager.Presentation.Core"
                  mapTo="My.CoachManager.Presentation.Services.AppearanceService, My.CoachManager.Presentation">
          <lifetime type="singleton" />
        </register>

        <!-- Screens View Models -->
        <register type="My.CoachManager.Presentation.ViewModels.Shell.ShellViewModel, My.CoachManager.Presentation"
                          mapTo="My.CoachManager.Presentation.ViewModels.Shell.ShellViewModel, My.CoachManager.Presentation">
          <lifetime type="singleton" />
        </register>

        <!-- "Root" container: CrossCutting -->
        <register type="My.CoachManager.CrossCutting.Logging.ILogger, My.CoachManager.CrossCutting.Logging"
                  mapTo="My.CoachManager.CrossCutting.Logging.Supervision.Logger, My.CoachManager.CrossCutting.Logging.Supervision">
          <lifetime type="singleton" />
        </register>
      </container>
    </containers>
  </unity>
</configuration>